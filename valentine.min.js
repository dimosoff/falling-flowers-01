const TOYS=document.querySelectorAll(".valentine__toy, .valentine__center"),FLOATING_PRESENT=document.querySelector("button[name='get-a-present']"),MODAL_CLOSE=document.querySelectorAll(".modal button"),MODAL=document.querySelector(".modal"),FLOATING_POPUP_CARDS=document.querySelectorAll(".present-popup__card"),MODAL_PRESENT_HIDE=document.querySelectorAll("[data-present-hide] button");function modalOpen(){setTimeout(function(){MODAL&&MODAL.classList.add("opened")},500)}function modalClose(){MODAL&&MODAL.classList.remove("opened")}function nyToyHoverHandler(e){let t=e.target;if(t.classList.contains("animate"))return;t.classList.add("animate");let n=setTimeout(function(){t.classList.remove("animate"),clearTimeout(n)},1450)}function onCardHover(e){let t=e.target;t.classList.add("hovered")}function toyClick(){modalOpen()}function toysRemoveEvents(){TOYS.forEach(function(e){e.removeEventListener("click",toyClick,!0)})}FLOATING_PRESENT&&FLOATING_PRESENT.addEventListener("click",modalOpen),MODAL_CLOSE.forEach(function(e){e.addEventListener("click",modalClose)}),TOYS.length&&TOYS.forEach(function(e){e.addEventListener("mouseenter",nyToyHoverHandler),e.addEventListener("touchstart",nyToyHoverHandler),e.addEventListener("click",toyClick,!0)}),FLOATING_POPUP_CARDS.forEach(function(e){e.addEventListener("mouseenter",onCardHover),e.addEventListener("touchstart",onCardHover)}),FLOATING_PRESENT&&TOYS.length&&FLOATING_PRESENT.addEventListener("click",function(){FLOATING_PRESENT.classList.add("opened")}),MODAL_PRESENT_HIDE.length&&FLOATING_PRESENT&&MODAL_PRESENT_HIDE.forEach(function(e){e.addEventListener("click",function(){setTimeout(function(){FLOATING_PRESENT.classList.add("hide"),FLOATING_PRESENT.classList.remove("opened")},300)})}),document.addEventListener("click",function(e){MODAL.classList.contains("opened")&&!e.target.closest(".modal__inner")&&MODAL.classList.remove("opened")});